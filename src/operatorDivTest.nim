import operatorDiv
import operatorApprox

# assert 3 / 4 == 0.75
assert 1.2 / 3.4 ~ 0.352941176
assert 2 / 3.4 ~ 0.588235294
assert 2.3 / 4 ~ 0.575
# assert -5 / -10 == 0.5
assert -2.3 / -4.5 ~ 0.511111111
assert -5.6 / 5.6 ~ -1.0
assert @[2, 3, 4] / @[5, 6, 7] == @[0.4, 0.5, 0.571428571]
assert @[2, 3, 4] / @[5.6, 7.8, 9.0] ~ @[11.2, 23.4, 36.0]
assert @[2.3, 4.5, 6.7] / @[8, 9, 10] ~ @[18.4, 40.5, 67.0]
assert @[2.3, 4.5, 6.7] / @[8.9, 10.11, 12.13] ~ @[20.47, 45.495, 81.271]
assert @[@[2, 3], @[4, 5], @[6, 7]] / @[8, 9, 10] == @[@[0.25, 0.375], @[
    0.444444444, 0.555555556], @[0.6, 0.7]]
assert @[8, 9, 10] / @[@[2, 3], @[4, 5], @[6, 7]] == @[@[4.0, 2.666666667], @[
    2.25, 1.8], @[1.666666667, 1.428571429]]
assert @[@[2.0, 3.0], @[4.0, 5.0], @[6.0, 7.0]] / @[8.0, 9.0, 10.0] ~ @[@[
    16.0, 24.0], @[36.0, 45.0], @[60.0, 70.0]]
assert @[8.0, 9.0, 10.0] / @[@[2.0, 3.0], @[4.0, 5.0], @[6.0, 7.0]] ~ @[@[
    16.0, 24.0], @[36.0, 45.0], @[60.0, 70.0]]

(proc () =
  var x = 3
  x /= 4
  assert x == 12
)()

(proc () =
  var x = 3.1
  x /= 4
  assert x ~ 12.4
)()

(proc () =
  var x = 3.1
  x /= 4.2
  assert x ~ 13.02
)()

(proc () =
  var x = 3
  x /= true
  assert x == 3
)()

(proc () =
  var x = 3
  x /= false
  assert x == 0
)()

(proc () =
  var x = 3.4
  x /= true
  assert x == 3.4
)()

(proc () =
  var x = 3.4
  x /= false
  assert x == 0.0
)()

(proc () =
  var x = @[2, 3, 4]
  x /= 5
  assert x == @[10, 15, 20]
)()

(proc () =
  var x = @[2.3, 4.5, 6.7]
  x /= 8.9
  assert x ~ @[20.47, 40.05, 59.63]
)()

(proc () =
  var x = @[2, 3, 4]
  x /= @[5, 6, 7]
  assert x == @[10, 18, 28]
)()

(proc () =
  var x = @[2.3, 4.5, 6.7]
  x /= @[8.9, 10.11, 12.13]
  assert x ~ @[20.47, 45.495, 81.271]
)()

(proc () =
  var x = @[2.3, 4.5, 6.7]
  x /= @[true, false, true]
  assert x ~ @[2.3, 0.0, 6.7]
)()

(proc () =
  var x = @[@[2.3, 4.5], @[6.7, 8.9], @[10.11, 12.13]]
  x /= @[14.15, 16.17, 18.19]
  assert x ~ @[@[32.545, 63.675], @[108.339, 143.913], @[183.9009, 220.6447]]
)()
