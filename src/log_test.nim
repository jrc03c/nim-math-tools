import log
import math
import operator_approx
import std/sequtils
import std/sugar

assert log(1.2) ~ math.log(1.2, 10.0)

assert log(@[1.2, 3.4, 5.6]) ~ (@[1.2, 3.4, 5.6]).map(v => math.log(v, 10.0))

let x = @[@[0.20904700719891928, 0.7359798406844709, 0.9814243396256456,
    0.9338133598828485, 0.07779718016929728], @[0.49090230917340405,
    0.06568038926244477, 0.8927348232010869, 0.24660198997076385,
    0.45873461516775654], @[0.8511280089726424, 0.38106110013038375,
    0.5658044393606446, 0.9065608481089331, 0.9123253477794042], @[
    0.8773857344593199, 0.9907018077670148, 0.8666585796077367,
    0.2922646960696797, 0.20977422952459898], @[0.4311847346520919,
    0.16406627361427678, 0.3645884436409354, 0.6060378236216262,
    0.5294241410106845]]

let y_true = @[@[-0.6797560456036341, -0.13313408131385696,
    -0.008143175584742868, -0.02973991699560187, -1.1090361441299494], @[
    -0.3090049250015597, -1.1825642819843705, -0.04927752422792414,
    -0.6080034231586371, -0.3384384876658236], @[-0.07000511745991587,
    -0.4190053830593389, -0.24733364934585808, -0.04260304086679434,
    -0.03985025865829764], @[-0.05680943113003056, -0.004057044534932179,
    -0.062151959265907455, -0.5342236418034195, -0.6782478653450057], @[
    -0.36533662299227126, -0.7849806857877942, -0.4381971012940793,
    -0.21750027009519135, -0.2761962593537313]]

let y_pred = log(x)
assert y_pred ~ y_true
